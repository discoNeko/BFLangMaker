(function(c){function h(a){var b=c(a).val().length;if(20<b)return c(a).addClass("err_color"),c("."+c(a).attr("id")).remove(),c(a).after('<div class="'+c(a).attr("id")+' err_message">\u203b20\u6587\u5b57\u4ee5\u5185\u3002['+b+"\u6587\u5b57]</div>"),!0;c(a).removeClass("err_color");c("."+c(a).attr("id")).remove();return!1}function k(){for(var a=[],b=0;7>b;b++)a[b]=c("#c"+b).val();return a}function p(){var a=new XMLHttpRequest;a.open("GET","src/templete.txt",!0);a.responseType="text";a.onreadystatechange=
function(){if(4==a.readyState&&200==a.status){var b=(new String(a.responseText)).toString();q(b)}};a.send(null)}function q(a){for(var b=k(),f="><.+-[]".split(""),e=[],d=0,m=b.length;d<m;d++)e[d]=b[d];e.sort(function(a,b){return b.length-a.length});d=0;for(m=b.length;d<m;d++){var h=b.indexOf(e[d]);a=a.replace(new RegExp("_"+h,"g"),e[d]);for(var l=e[d].length,g=0,l=e[d].length;g<l;g++){var n=e[d].charAt(g);n.match(/[\/\\\+\<\>\.\^\$\*\{\}\[\]\?\|]/)?(e[d]=e[d].slice(0,g)+"\\\\"+e[d].slice(g),l+=2,g+=
2):n.match(/[\"]/)&&(e[d]=e[d].slice(0,g)+"\\"+e[d].slice(g),l+=1,g+=1)}a=a.replace(new RegExp("_rg"+d,"g"),e[d]);a=a.replace(new RegExp("_cmd"+d,"g"),f[h])}b=c("#lang_name").val();a=a.replace(/_lang/g,b);b=c("#hw_src").val();a=a.replace(/_src/g,b);c("#ip_src").val(a)}c(".cmd").on("keyup change",function(){var a="#"+c(this).attr("id");h(a)});c(".copy").on({click:function(){var a=c(this).attr("data-text");c(this).after('<div class="tooltips">'+a+"</div>")},mouseleave:function(){c(".tips").find(".tooltips").remove()}});
c("#gen").on("click",function(){for(var a=k(),b="><.+-[]".split(""),f=0;7>f;f++)""==a[f]&&(a[f]=b[f],c("#c"+f).val(b[f]));""==c("#lang_name").val()&&c("#lang_name").val("\u30aa\u30ea\u30b8\u30ca\u30eb\u8a00\u8a9e");a=k();b=[];f=!1;b.fill(!1);for(var e=0;7>e;e++){for(var d=e+1;7>d;d++)a[e]==a[d]&&(b[e]=!0,b[d]=!0);d="#c"+e;b[e]?c(d).addClass("err_color"):(c(d).removeClass("err_color"),f=h(d)||f)}c("#err_message").text("");-1!=b.indexOf(!0)?c("#err_message").append("\u203b\u91cd\u8907\u3057\u3066\u3044\u308b\u5358\u8a9e\u304c\u3042\u308a\u307e\u3059\u3002"):
f&&c("#err_message").append("\u203b\u5b57\u6570\u30aa\u30fc\u30d0\u30fc\u3057\u3066\u3044\u308b\u5358\u8a9e\u304c\u3042\u308a\u307e\u3059\u3002");if(-1==b.indexOf(!0)){a=k();b="";for(f=0;119>f;f++)b+=a["33333333350333333330333333333330333331114602033233333332233320424444444444442133333333244444444233324444442444444442032".charAt(f)];a=b;c("#hw_src").val(a);k();p();c(".dlb").css("display","block")}});c("#reset").on("click",function(){for(var a=0;7>a;a++)c("#c"+a).val(""),c("#c"+a).removeClass("err_color");
c("#err_message").text("");c("#lang_name").val("")});c(".download").on("click",function(){var a=document.querySelector(".download"),b=c("#ip_src").val();if(0==b.length)return 0;b=new Blob([b],{type:"text/html"});b=URL.createObjectURL(b);a.download="index.html";a.href=b;a.classList.remove("disabled")})})(jQuery);